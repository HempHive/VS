{
  "name": "Nivush - Spiking Mandelbrot",
  "description": "Nivush - Spiking Mandelbrot",
  "milkdrop_raw": "MILKDROP_PRESET_VERSION=201\r\nPSVERSION=4\r\nPSVERSION_WARP=4\r\nPSVERSION_COMP=3\r\n[preset00]\r\nfRating=5.000000\r\nfGammaAdj=1.994\r\nfDecay=0.980\r\nfVideoEchoZoom=1.007\r\nfVideoEchoAlpha=0.500\r\nnVideoEchoOrientation=1\r\nnWaveMode=4\r\nbAdditiveWaves=0\r\nbWaveDots=1\r\nbWaveThick=0\r\nbModWaveAlphaByVolume=1\r\nbMaximizeWaveColor=1\r\nbTexWrap=0\r\nbDarkenCenter=0\r\nbRedBlueStereo=0\r\nbBrighten=0\r\nbDarken=1\r\nbSolarize=0\r\nbInvert=0\r\nfWaveAlpha=0.800\r\nfWaveScale=1.152\r\nfWaveSmoothing=0.900\r\nfWaveParam=-0.500\r\nfModWaveAlphaStart=0.750\r\nfModWaveAlphaEnd=0.950\r\nfWarpAnimSpeed=1.000\r\nfWarpScale=1.331\r\nfZoomExponent=1.00000\r\nfShader=0.000\r\nzoom=1.28055\r\nrot=0.00000\r\ncx=0.500\r\ncy=0.500\r\ndx=0.00000\r\ndy=0.00000\r\nwarp=0.01249\r\nsx=0.76440\r\nsy=1.00000\r\nwave_r=0.650\r\nwave_g=0.650\r\nwave_b=0.650\r\nwave_x=0.500\r\nwave_y=0.500\r\nob_size=0.010\r\nob_r=0.000\r\nob_g=0.000\r\nob_b=0.000\r\nob_a=0.000\r\nib_size=0.010\r\nib_r=0.250\r\nib_g=0.250\r\nib_b=0.250\r\nib_a=0.000\r\nnMotionVectorsX=12.000\r\nnMotionVectorsY=9.000\r\nmv_dx=0.000\r\nmv_dy=0.000\r\nmv_l=0.900\r\nmv_r=1.000\r\nmv_g=1.000\r\nmv_b=1.000\r\nmv_a=0.000\r\nb1n=0.000\r\nb2n=0.000\r\nb3n=0.000\r\nb1x=1.000\r\nb2x=1.000\r\nb3x=1.000\r\nb1ed=0.250\r\nwavecode_0_enabled=0\r\nwavecode_0_samples=512\r\nwavecode_0_sep=0\r\nwavecode_0_bSpectrum=0\r\nwavecode_0_bUseDots=0\r\nwavecode_0_bDrawThick=0\r\nwavecode_0_bAdditive=0\r\nwavecode_0_scaling=1.00000\r\nwavecode_0_smoothing=0.50000\r\nwavecode_0_r=1.000\r\nwavecode_0_g=1.000\r\nwavecode_0_b=1.000\r\nwavecode_0_a=1.000\r\nwavecode_1_enabled=0\r\nwavecode_1_samples=512\r\nwavecode_1_sep=0\r\nwavecode_1_bSpectrum=0\r\nwavecode_1_bUseDots=0\r\nwavecode_1_bDrawThick=0\r\nwavecode_1_bAdditive=0\r\nwavecode_1_scaling=1.00000\r\nwavecode_1_smoothing=0.50000\r\nwavecode_1_r=1.000\r\nwavecode_1_g=1.000\r\nwavecode_1_b=1.000\r\nwavecode_1_a=1.000\r\nwavecode_2_enabled=0\r\nwavecode_2_samples=512\r\nwavecode_2_sep=0\r\nwavecode_2_bSpectrum=0\r\nwavecode_2_bUseDots=0\r\nwavecode_2_bDrawThick=0\r\nwavecode_2_bAdditive=0\r\nwavecode_2_scaling=1.00000\r\nwavecode_2_smoothing=0.50000\r\nwavecode_2_r=1.000\r\nwavecode_2_g=1.000\r\nwavecode_2_b=1.000\r\nwavecode_2_a=1.000\r\nwavecode_3_enabled=0\r\nwavecode_3_samples=512\r\nwavecode_3_sep=0\r\nwavecode_3_bSpectrum=0\r\nwavecode_3_bUseDots=0\r\nwavecode_3_bDrawThick=0\r\nwavecode_3_bAdditive=0\r\nwavecode_3_scaling=1.00000\r\nwavecode_3_smoothing=0.50000\r\nwavecode_3_r=1.000\r\nwavecode_3_g=1.000\r\nwavecode_3_b=1.000\r\nwavecode_3_a=1.000\r\nshapecode_0_enabled=1\r\nshapecode_0_sides=3\r\nshapecode_0_additive=0\r\nshapecode_0_thickOutline=1\r\nshapecode_0_textured=1\r\nshapecode_0_num_inst=50\r\nshapecode_0_x=0.180\r\nshapecode_0_y=0.740\r\nshapecode_0_rad=0.45773\r\nshapecode_0_ang=1.88496\r\nshapecode_0_tex_ang=0.00000\r\nshapecode_0_tex_zoom=0.83600\r\nshapecode_0_r=1.000\r\nshapecode_0_g=1.000\r\nshapecode_0_b=1.000\r\nshapecode_0_a=1.000\r\nshapecode_0_r2=1.000\r\nshapecode_0_g2=1.000\r\nshapecode_0_b2=1.000\r\nshapecode_0_a2=0.000\r\nshapecode_0_border_r=1.000\r\nshapecode_0_border_g=1.000\r\nshapecode_0_border_b=0.000\r\nshapecode_0_border_a=0.200\r\nshape_0_per_frame1=rg2 = max(rg2*0.999, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nshape_0_per_frame2=\r\nshape_0_per_frame3=//x = q1;\r\nshape_0_per_frame4=//y = q2;\r\nshape_0_per_frame5=//rad = 0.1 + 0.3*q20;\r\nshape_0_per_frame6=\r\nshape_0_per_frame7=//rad = 0.9;\r\nshape_0_per_frame8=//rad = 0.7 +0.1*sin(time);\r\nshape_0_per_frame9=rad = rad + 0.25*rg2;\r\nshape_0_per_frame10=//ang = ang + 0.2*sin(time + 0.4*q5);\r\nshape_0_per_frame11=treb2 = treb2 + min(2,treb);\r\nshape_0_per_frame12=ang = ang + 0.21*sin(0.003*treb2);\r\nshape_0_per_frame13=\r\nshape_0_per_frame14=next_x = 0*0.01*sin(5*time) + if(equal(frame%20,0),0.2 + 0.01*rand(30), next_x);\r\nshape_0_per_frame15=next_y = 0*0.01*cos(5*time) + if(equal(frame%20,0),0.5 + 0.01*rand(50), next_y);\r\nshape_0_per_frame16=\r\nshape_0_per_frame17=speed = 0.000003 + 0.00002*q2;\r\nshape_0_per_frame18=\r\nshape_0_per_frame19=mx=if(abs(mx-next_x)>0.001,if(above(mx,next_x),mx-speed,mx+speed),next_x); \r\nshape_0_per_frame20=my = if(abs(my-next_y)>0.001,if(above(my,next_y),my-speed,my+speed),next_y);\r\nshape_0_per_frame21=\r\nshape_0_per_frame22=//x=mx;\r\nshape_0_per_frame23=//y=my;\r\nshape_0_per_frame24=//x = mx + 0.02*cos(5*time + 0.2*q4);\r\nshape_0_per_frame25=//y = my + 0.02*sin(5*time + 0.2*q4);\r\nshape_0_per_frame26=\r\nshape_0_per_frame27=x = x + 0.04*sin(time);\r\nshape_0_per_frame28=\r\nshape_0_per_frame29=y = y + 0.025*cos(time);\r\nshape_0_per_frame30=\r\nshape_0_per_frame31=\r\nshape_0_per_frame32=centerx = 0.7; //center.x of the circle\r\nshapecode_1_enabled=1\r\nshapecode_1_sides=5\r\nshapecode_1_additive=0\r\nshapecode_1_thickOutline=1\r\nshapecode_1_textured=1\r\nshapecode_1_num_inst=35\r\nshapecode_1_x=0.500\r\nshapecode_1_y=0.500\r\nshapecode_1_rad=0.09591\r\nshapecode_1_ang=0.00000\r\nshapecode_1_tex_ang=0.00000\r\nshapecode_1_tex_zoom=1.32110\r\nshapecode_1_r=1.000\r\nshapecode_1_g=1.000\r\nshapecode_1_b=1.000\r\nshapecode_1_a=1.000\r\nshapecode_1_r2=0.890\r\nshapecode_1_g2=0.000\r\nshapecode_1_b2=1.000\r\nshapecode_1_a2=0.000\r\nshapecode_1_border_r=1.000\r\nshapecode_1_border_g=1.000\r\nshapecode_1_border_b=1.000\r\nshapecode_1_border_a=0.000\r\nshape_1_per_frame1=//x = 0.4 + 0.1*sin(0.3*time);\r\nshape_1_per_frame2=//ang = 2*q8;\r\nshape_1_per_frame3=//tex_zoom = 0.65 + 0.4*sin(0.5*time);\r\nshape_1_per_frame4=//sides = q12;\r\nshape_1_per_frame5=\r\nshape_1_per_frame6=\r\nshape_1_per_frame7=rg2 = max(rg2*0.9995, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nshape_1_per_frame8=\r\nshape_1_per_frame9=rad = rad + 0.07*rg2;\r\nshape_1_per_frame10=ang = 0.1*q5;\r\nshapecode_2_enabled=1\r\nshapecode_2_sides=89\r\nshapecode_2_additive=0\r\nshapecode_2_thickOutline=1\r\nshapecode_2_textured=1\r\nshapecode_2_num_inst=60\r\nshapecode_2_x=0.050\r\nshapecode_2_y=0.920\r\nshapecode_2_rad=0.76853\r\nshapecode_2_ang=0.00000\r\nshapecode_2_tex_ang=0.00000\r\nshapecode_2_tex_zoom=0.86990\r\nshapecode_2_r=1.000\r\nshapecode_2_g=1.000\r\nshapecode_2_b=1.000\r\nshapecode_2_a=1.000\r\nshapecode_2_r2=0.000\r\nshapecode_2_g2=1.000\r\nshapecode_2_b2=0.000\r\nshapecode_2_a2=0.000\r\nshapecode_2_border_r=1.000\r\nshapecode_2_border_g=1.000\r\nshapecode_2_border_b=1.000\r\nshapecode_2_border_a=0.000\r\nshape_2_per_frame1=rg2 = max(rg2*0.67, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nshape_2_per_frame2=\r\nshape_2_per_frame3=//rad = 0.6 + 0.3*sin(time);\r\nshape_2_per_frame4=rad = rad + 0.1*rg2;\r\nshape_2_per_frame5=ang = 0.4*q8;\r\nshape_2_per_frame6=\r\nshape_2_per_frame7=x = x + 0.04*sin(time);\r\nshape_2_per_frame8=\r\nshape_2_per_frame9=y = y + 0.025*cos(time)\r\nshapecode_3_enabled=1\r\nshapecode_3_sides=3\r\nshapecode_3_additive=0\r\nshapecode_3_thickOutline=1\r\nshapecode_3_textured=1\r\nshapecode_3_num_inst=50\r\nshapecode_3_x=0.000\r\nshapecode_3_y=1.000\r\nshapecode_3_rad=0.57047\r\nshapecode_3_ang=1.88496\r\nshapecode_3_tex_ang=0.00000\r\nshapecode_3_tex_zoom=0.72710\r\nshapecode_3_r=1.000\r\nshapecode_3_g=1.000\r\nshapecode_3_b=1.000\r\nshapecode_3_a=1.000\r\nshapecode_3_r2=0.000\r\nshapecode_3_g2=1.000\r\nshapecode_3_b2=0.000\r\nshapecode_3_a2=0.000\r\nshapecode_3_border_r=1.000\r\nshapecode_3_border_g=1.000\r\nshapecode_3_border_b=0.000\r\nshapecode_3_border_a=0.200\r\nshape_3_per_frame1=rg2 = max(rg2*0.9999, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nshape_3_per_frame2=\r\nshape_3_per_frame3=rad = rad + 0.2*rg2;\r\nshape_3_per_frame4=\r\nshape_3_per_frame5=x = x + 0.04*sin(time);\r\nshape_3_per_frame6=y = y + 0.025*cos(time);\r\nshape_3_per_frame7=\r\nshape_3_per_frame8=\r\nshape_3_per_frame9=//ang = ang + 0.2*sin(time + 0.4*q5);\r\nshape_3_per_frame10=treb2 = treb2 + min(2,treb);\r\nshape_3_per_frame11=ang = ang + 0.21*sin(0.003*treb2);\r\nper_frame_init_1=n=1;\r\nper_frame_init_2=speed = 4;\r\nper_frame_init_3=m1 = 200;\r\nper_frame_init_4=dirm1 = 1;\r\nper_frame_1=rg1 = max(rg1*0.77, 0.02 + 0.5*min(2,max(0,treb_att-1)*1.3));\r\nper_frame_2=rg2 = max(rg2*0.77, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nper_frame_3=rg3 = max(rg3*0.77, 0.02 + 0.5*min(2,max(0,bass_att-1)*1.3));\r\nper_frame_4=\r\nper_frame_5=rg4 = min(2,max(0,mid_att-1)*1.3);\r\nper_frame_6=\r\nper_frame_7=rg5 = max(rg5*0.92, 0.02 + 0.5*min(2,max(0,mid_att-1)*1.3));\r\nper_frame_8=q20 = rg5;\r\nper_frame_9=\r\nper_frame_10=q1 = rg1;\r\nper_frame_11=q2 = rg2;\r\nper_frame_12=q3 = rg3;\r\nper_frame_13=\r\nper_frame_14=//wave_a = 0;\r\nper_frame_15=warp = 4;\r\nper_frame_16=\r\nper_frame_17=q4 = sin(time);\r\nper_frame_18=\r\nper_frame_19=rg_treb = rg_treb + min(2,max(0,treb_att-1)*1.3);\r\nper_frame_20=rg_mid = rg_mid + min(2,max(0,mid_att-1)*1.3);\r\nper_frame_21=rg_bass = rg_bass + min(2,max(0,bass_att-1)*1.3);\r\nper_frame_22=\r\nper_frame_23=q5 = rg_treb;\r\nper_frame_24=q6 = rg_mid;\r\nper_frame_25=q7 = rg_bass;\r\nper_frame_26=\r\nper_frame_27=rg_treb2 = max(rg_treb2*0.9995, 0.02 + 0.5*min(2,max(0,treb_att-1)*1.3));\r\nper_frame_28=rg_mid2 = max(rg_mid2*0.9995, 0.02 + 0.5*min(2,max(0,treb_att-1)*1.3));\r\nper_frame_29=\r\nper_frame_30=q27 = rg_treb2;\r\nper_frame_31=q28 = rg_mid2;\r\nper_frame_32=\r\nper_frame_33=tic = min(time-tin,.1);\r\nper_frame_34=tin = time;\r\nper_frame_35=ra = 10;\r\nper_frame_36=treb_avg = tic*(treb_avg*(1/tic - ra) + ra*treb);\r\nper_frame_37=mid_avg = tic*(mid_avg*(1/tic - ra) + ra*mid);\r\nper_frame_38=bass_avg = tic*(bass_avg*(1/tic - ra) + ra*bass);\r\nper_frame_39=vav = tic*(vav*(1/tic - ra) + ra*(bass+treb+mid)*.33333);\r\nper_frame_40=vt = vt + tic*vav;\r\nper_frame_41=\r\nper_frame_42=q8 = vt*.5;\r\nper_frame_43=q20 = sin(0.1*time + 0.02*q5);\r\nper_frame_44=q21 = 2*sin(0.03*time + 0.015*q5);\r\nper_frame_45=q22 = 2*cos(0.05*time + 0.02*q5);\r\nper_frame_46=q23 = sin(time + 0.2*q6);\r\nper_frame_47=q24 = sin(0.5*time + 0.6*q6);\r\nper_frame_48=q25 = sin(0.2*time + 0.2*q5);\r\nper_frame_49=q26 = cos(0.7*time + 0.2*q5) ;\r\nper_frame_50=\r\nper_frame_51=rot = sin(0.1*time + q8) + cos(0.3*time);\r\nper_frame_52=rot = if(n==0, 0, rot);\r\nper_frame_53=//rot = 0;\r\nper_frame_54=\r\nper_frame_55=//normal image\r\nper_frame_56=dx0 = 0.0489;\r\nper_frame_57=dy0 = 0.3;\r\nper_frame_58=zoom0 = 0.3 + 0.03*q2;\r\nper_frame_59=\r\nper_frame_60=//******** position 1 parameters ********\r\nper_frame_61=dx1 = 1.2489 + 0.0001*sin(time*0.7);\r\nper_frame_62=dy1 = 0.3204 + 0.0001*cos(time*0.8) + 0.0002*sin(cos(time*0.2));\r\nper_frame_63=zoom1 = 2000 + 1700*sin(time*0.3 + 0.01*q5 + 0.01*q6 + 0.01*q7);\r\nper_frame_64=\r\nper_frame_65=//******** position 2 parameters ********\r\nper_frame_66=dx2 = 1.27943 + 0.00006*sin(time*0.4);\r\nper_frame_67=dy2 = 0.35982 + 0.00007*cos(time*0.3) + 0.00007*sin(cos(time*0.2));\r\nper_frame_68=zoom2 = 5000 + 4930*sin(0.1*time + 0.005*q5 + 0.005*q6 + 0.005*q7);\r\nper_frame_69=\r\nper_frame_70=//******** position 3 parameters ********\r\nper_frame_71=dx3 = 1.23776 + 0.0001*sin(time*0.7);\r\nper_frame_72=dy3 = 0.4017 + 0.0001*cos(time*0.8) + 0.0002*sin(cos(time*0.2));\r\nper_frame_73=zoom3 = 1000 + 900*sin(0.1*time + 0.002*q5 + 0.002*q6 + 0.002*q7);\r\nper_frame_74=\r\nper_frame_75=//******** position 4 parameters ********\r\nper_frame_76=dx4 = 1.070881 + 0.0001*sin(time*0.2);\r\nper_frame_77=dy4 = -0.03498 + 0.00015*cos(time*0.15) + 0.0001*sin(cos(time*0.1));\r\nper_frame_78=zoom4 = 5000  +  4990*sin(0.03*time + 0.002*q5 + 0.002*q6 + 0.002*q7);\r\nper_frame_79=\r\nper_frame_80=//********position 5 parameters ********\r\nper_frame_81=speed = pow(speed,1.006);\r\nper_frame_82=speed = if(speed >= 20000, 4, speed); \r\nper_frame_83=zoom5 = speed;\r\nper_frame_84=dx5 = 1.0002605;\r\nper_frame_85=dy5 = 0.3896076;\r\nper_frame_86=rot5 = sin(time);\r\nper_frame_87=\r\nper_frame_88=//******** position 6 parameters ********\r\nper_frame_89=zoom6 = 2 + 0.5*sin(time);\r\nper_frame_90=dx6 = 1 + 0.4*sin(0.4*time);\r\nper_frame_91=dy6 = 0.4 + 0.2*cos(0.2*time);\r\nper_frame_92=rot6 = 0;\r\nper_frame_93=\r\nper_frame_94=\r\nper_frame_95=\r\nper_frame_96=//******** position 7 parameters ********\r\nper_frame_97=zoom7 = 2 + 0.4*sin(0.3*time) + 0.5*cos(0.6*time);\r\nper_frame_98=dx7 = 0.6 + 0.3*sin(0.4*time);\r\nper_frame_99=dy7 = 0.2 + 0.2*cos(0.2*time);\r\nper_frame_100=rot7 = 0;\r\nper_frame_101=\r\nper_frame_102=\r\nper_frame_103=//******** change position ********\r\nper_frame_104=change1 = if(frame%100 == 0, 1, 0);\r\nper_frame_105=change2 = if(change1 == 1, 1, change2);\r\nper_frame_106=n = if(rg4 > 1.2 && change2 == 1, n+1, n);\r\nper_frame_107=change2 = if(rg4 > 1.2 && change2 == 1, 0, change2);\r\nper_frame_108=n = if(n==5 && speed >= 19000, 6, n);\r\nper_frame_109=change2 = if(n==5 && speed >= 19000, 0, change2);\r\nper_frame_110=n = if(n > 7, 1, n);\r\nper_frame_111=n=0;\r\nper_frame_112=q9 = n;\r\nper_frame_113=\r\nper_frame_114=//******** position 1 ******** - mandelbrot\r\nper_frame_115=zoom = if(n==0, zoom0, zoom);\r\nper_frame_116=dx = if(n==0, dx0, dx);\r\nper_frame_117=dy = if(n==0, dy0, dy);\r\nper_frame_118=\r\nper_frame_119=//******** position 2 ******** - mandelbrot\r\nper_frame_120=zoom = if(n==1, zoom1, zoom);\r\nper_frame_121=dx = if(n==1, dx1, dx);\r\nper_frame_122=dy = if(n==1, dy1, dy);\r\nper_frame_123=\r\nper_frame_124=//******** position 2 ******** - mandelbrot\r\nper_frame_125=zoom = if(n==2, zoom2, zoom);\r\nper_frame_126=dx = if(n==2, dx2, dx);\r\nper_frame_127=dy = if(n==2, dy2, dy);\r\nper_frame_128=\r\nper_frame_129=//******** position 3 ******** - mandelbrot\r\nper_frame_130=zoom = if(n==3, zoom3, zoom);\r\nper_frame_131=dx = if(n==3, dx3, dx);\r\nper_frame_132=dy = if(n==3, dy3, dy);\r\nper_frame_133=\r\nper_frame_134=//******** position 4 ******** - mandelbrot\r\nper_frame_135=zoom = if(n==4, zoom4, zoom);\r\nper_frame_136=dx = if(n==4, dx4, dx);\r\nper_frame_137=dy = if(n==4, dy4, dy);\r\nper_frame_138=\r\nper_frame_139=//******** position 5 ******** - check the shape in warp shader\r\nper_frame_140=zoom = if(n==5, zoom5, zoom);\r\nper_frame_141=dx = if(n==5, dx5, dx);\r\nper_frame_142=dy = if(n==5, dy5, dy);\r\nper_frame_143=rot = if(n==5, rot5, rot);\r\nper_frame_144=\r\nper_frame_145=//******** position 6 ******** - check the shape in warp shader\r\nper_frame_146=zoom = if(n==6, zoom6, zoom);\r\nper_frame_147=dx = if(n==6, dx6, dx);\r\nper_frame_148=dy = if(n==6, dy6, dy);\r\nper_frame_149=rot = if(n==6, rot6, rot);\r\nper_frame_150=\r\nper_frame_151=//******** position 7 ******** - check the shape in warp shader\r\nper_frame_152=zoom = if(n==7, zoom7, zoom);\r\nper_frame_153=dx = if(n==7, dx7, dx);\r\nper_frame_154=dy = if(n==7, dy7, dy);\r\nper_frame_155=rot = if(n==7, rot7, rot);\r\nper_frame_156=\r\nper_frame_157=//zoom =0.3;\r\nper_frame_158=//rot = 0;\r\nper_frame_159=\r\nper_frame_160=dirm1 = if(m1 >= 400, -1, if(m1 <= 150, 1, dirm1));\r\nper_frame_161=m1 = if(dirm1 == 1, m1 + 0.8, m1 - 0.8);\r\nper_frame_162=q11 = m1;\r\nper_frame_163=\r\nper_frame_164=//******** change shape2 number of sides ********\r\nper_frame_165=change11 = if(frame%100 == 0, 1, 0);\r\nper_frame_166=change22 = if(change11 == 1, 1, change22);\r\nper_frame_167=n2 = if(rg4 > 1.2 && change22 == 1, n2+1, n2);\r\nper_frame_168=change22 = if(rg4 > 1.2 && change22 == 1, 0, change22);\r\nper_frame_169=n2 = if(n2==5 && speed >= 19000, 6, n2);\r\nper_frame_170=//change22 = if(n2==5 && speed >= 19000, 0, change22);\r\nper_frame_171=n2 = if(n2 > 6, 1, n2);\r\nper_frame_172=//n2=0;\r\nper_frame_173=q12 = n2;\r\nwarp_1=`//sampler sampler_colors3;\r\nwarp_2=`\r\nwarp_3=`shader_body\r\nwarp_4=`{\r\nwarp_5=`\r\nwarp_6=`float2 uv2 = uv;\r\nwarp_7=`//if(uv2.x >= 0.5) {uv2.x = 1-uv2.x;}\r\nwarp_8=`//if(uv2.y >= 0.5) {uv2.y = 1-uv2.y;}\r\nwarp_9=`\r\nwarp_10=`//float1 cs = cos(0.25*3.14159);\r\nwarp_11=`//float1 sn = sin(0.25*3.14159);\r\nwarp_12=`//float2 uv3 = uv2;\r\nwarp_13=`//uv2.x = uv3.x * cs - uv3.y * sn;\r\nwarp_14=`//uv2.y = uv3.x * sn + uv3.y * cs;\r\nwarp_15=`\r\nwarp_16=`uv.x=uv2.x;\r\nwarp_17=`uv.y=uv2.y;\r\nwarp_18=`\r\nwarp_19=`    // sample previous frame\r\nwarp_20=`    ret = tex2D( sampler_main, uv ).xyz;\r\nwarp_21=`    \r\nwarp_22=`    // darken (decay) over time\r\nwarp_23=`    ret *= 0.7;\r\nwarp_24=`\r\nwarp_25=`float1 a = uv.x;\r\nwarp_26=`float1 b = uv.y;\r\nwarp_27=`float1 ca;\r\nwarp_28=`float1 cb;\r\nwarp_29=`if(q9 == 5){\r\nwarp_30=`    ca = 0.285;\r\nwarp_31=`    cb = 0;\r\nwarp_32=`}\r\nwarp_33=`else if(q9 == 6){\r\nwarp_34=`    ca = -0.66176 + 0.03*q20;\r\nwarp_35=`    cb = -0.3842;\r\nwarp_36=`}\r\nwarp_37=`else if(q9 == 0) {\r\nwarp_38=`    ca = -0.7269 + 0.3*sin(cos(0.4*time)) + 0*0.01*q21 ;\r\nwarp_39=`    cb = 0.1889 + 0.1*cos(0.2*time) + 0*0.01*q22;\r\nwarp_40=`}\r\nwarp_41=`else {\r\nwarp_42=`    ca = a;\r\nwarp_43=`    cb = b;\r\nwarp_44=`}\r\nwarp_45=`float1 aa;\r\nwarp_46=`float1 bb;\r\nwarp_47=`\r\nwarp_48=`float1 n = 0;\r\nwarp_49=`float1 maxiter = 25;\r\nwarp_50=`float1 m=0;\r\nwarp_51=`float1 r = 20;\r\nwarp_52=`float1 r2 = r*r*r;\r\nwarp_53=`//float1 dist = length(z);\r\nwarp_54=`float3 col;\r\nwarp_55=`\r\nwarp_56=`float1 pa;\r\nwarp_57=`float1 pb;\r\nwarp_58=`float2 z;\r\nwarp_59=`float2 pz;\r\nwarp_60=`while(n < maxiter && m==0)\r\nwarp_61=`{\r\nwarp_62=`    aa = a*a - b*b;\r\nwarp_63=`    bb = 2*a*b;\r\nwarp_64=`    pa = a;\r\nwarp_65=`    pb = b;\r\nwarp_66=`    pz = float2(pa,pb);\r\nwarp_67=`    a = aa + ca;\r\nwarp_68=`    b = bb + cb;\r\nwarp_69=`    z = float2(a,b);\r\nwarp_70=`    //if(sqrt(a*a + b*b) > r2) // no\r\nwarp_71=`    //if(sqrt(pow(a-pa,2) + pow(b-pb,2)) > r2)\r\nwarp_72=`    //if(dot(z,pz) > r2) // creates the leaves outside the mandelbrot set\r\nwarp_73=`    if(dot(z + 200*q25,pz + 12*q26) > r2) \r\nwarp_74=`    {\r\nwarp_75=`        m = 1;\r\nwarp_76=`    }\r\nwarp_77=`    else\r\nwarp_78=`    {\r\nwarp_79=`        n++;\r\nwarp_80=`    }\r\nwarp_81=`}\r\nwarp_82=`\r\nwarp_83=`//col = tex2D(sampler_colors3, float2(0.5 + 0.5*sin(n*0.05),0.5 + 0.5*cos(n*0.05+time))).xyz;\r\nwarp_84=`\r\nwarp_85=`float1 dist = (sqrt(a*a + b*b));\r\nwarp_86=`float1 fraciter = (dist - r) / (r2 - r);\r\nwarp_87=`fraciter = log2(log(dist) / log(r)) ;\r\nwarp_88=`//n -= fraciter; // makes the colors smoother, outside of the mandelbrot set\r\nwarp_89=`float3 color; \r\nwarp_90=`\r\nwarp_91=`color.x = 0.5 + 0.5*sin(0.01*n*20.5 + 0.5*time + 0.2*q5);\r\nwarp_92=`color.y = 0.5 + 0.5*cos(0.03*n*20.5 + 0.7*time + 0.2*q6);\r\nwarp_93=`color.z = 0.5 + 0.5*sin(0.05*n*20.5 + 0.9*time + 0.2*q7);\r\nwarp_94=`\r\nwarp_95=`if(m == 1)\r\nwarp_96=`{\r\nwarp_97=`    ret = color;\r\nwarp_98=`}\r\nwarp_99=`else\r\nwarp_100=`{\r\nwarp_101=`    ret.x=0.1;\r\nwarp_102=`    ret.y=0.5;\r\nwarp_103=`    ret.z=0;\r\nwarp_104=`    ret=color;\r\nwarp_105=`}\r\nwarp_106=`\r\nwarp_107=`}\r\ncomp_1=`// took this from flexi's preset and added symmetry\r\ncomp_2=`\r\ncomp_3=`float2 d, d_uv;\r\ncomp_4=`float3 dx, dy;\r\ncomp_5=`\r\ncomp_6=`shader_body\r\ncomp_7=`{\r\ncomp_8=`float2 uv2 = uv;\r\ncomp_9=`if(uv2.x >= 0.5) {uv2.x = 1-uv2.x;}\r\ncomp_10=`if(uv2.y >= 0.5) {uv2.y = 1-uv2.y;}\r\ncomp_11=`\r\ncomp_12=`//float1 cs = cos(0.25*3.14159);\r\ncomp_13=`//float1 sn = sin(0.25*3.14159);\r\ncomp_14=`//float2 uv3 = uv2;\r\ncomp_15=`//uv2.x = uv3.x * cs - uv3.y * sn;\r\ncomp_16=`//uv2.y = uv3.x * sn + uv3.y * cs;\r\ncomp_17=`\r\ncomp_18=`uv.x=uv2.x;\r\ncomp_19=`uv.y=uv2.y;\r\ncomp_20=`\r\ncomp_21=`\r\ncomp_22=`   d = texsize.zw*4;\r\ncomp_23=`   d_uv = uv;\r\ncomp_24=`   dx = GetBlur1(d_uv + float2(1,0)*d) - GetBlur1(d_uv - float2(1,0)*d);\r\ncomp_25=`   dy = GetBlur1(d_uv + float2(0,1)*d) - GetBlur1(d_uv - float2(0,1)*d);\r\ncomp_26=`   d_uv += float2(dx.x,dy.x)*.03;\r\ncomp_27=`\r\ncomp_28=`ret = lerp(GetBlur2(d_uv),GetPixel(d_uv),0.4);\r\ncomp_29=`//ret = (ret.y-ret.x*0.5)*lerp(float3(1.5,0.6,0),1,ret.x)*1.4; // original \r\ncomp_30=`ret = (ret.y-ret.x*0.86)*lerp(float3(1.5 + 10.1*q28 , 0.6 + .18*q27, 0 + 0*0.1*q1),1,ret.x)*1.4;\r\ncomp_31=`\r\ncomp_32=`ret = lerp(ret,0,GetBlur1(d_uv-float2(1,1)*texsize.zw*32).z*0.6);\r\ncomp_33=`ret = lerp(ret,2,GetPixel(uv).z*0.36);\r\ncomp_34=`}\r\n"
}