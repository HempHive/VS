{
  "name": "map",
  "description": "map",
  "milkdrop_raw": "MILKDROP_PRESET_VERSION=201\r\nPSVERSION=3\r\nPSVERSION_WARP=3\r\nPSVERSION_COMP=2\r\n[preset00]\r\nfRating=5.000000\r\nfGammaAdj=1.000\r\nfDecay=0.980\r\nfVideoEchoZoom=2.000\r\nfVideoEchoAlpha=0.000\r\nnVideoEchoOrientation=0\r\nnWaveMode=0\r\nbAdditiveWaves=0\r\nbWaveDots=0\r\nbWaveThick=1\r\nbModWaveAlphaByVolume=0\r\nbMaximizeWaveColor=1\r\nbTexWrap=1\r\nbDarkenCenter=0\r\nbRedBlueStereo=0\r\nbBrighten=0\r\nbDarken=0\r\nbSolarize=0\r\nbInvert=0\r\nfWaveAlpha=0.004\r\nfWaveScale=0.037\r\nfWaveSmoothing=0.000\r\nfWaveParam=-0.440\r\nfModWaveAlphaStart=1.000\r\nfModWaveAlphaEnd=1.000\r\nfWarpAnimSpeed=1.459\r\nfWarpScale=2.007\r\nfZoomExponent=1.00000\r\nfShader=0.000\r\nzoom=0.99990\r\nrot=0.00000\r\ncx=0.500\r\ncy=0.500\r\ndx=0.00000\r\ndy=0.00000\r\nwarp=0.01000\r\nsx=0.99990\r\nsy=1.00000\r\nwave_r=1.000\r\nwave_g=1.000\r\nwave_b=1.000\r\nwave_x=0.500\r\nwave_y=0.040\r\nob_size=0.110\r\nob_r=0.000\r\nob_g=0.000\r\nob_b=0.000\r\nob_a=0.000\r\nib_size=0.260\r\nib_r=0.250\r\nib_g=0.250\r\nib_b=0.250\r\nib_a=0.000\r\nnMotionVectorsX=64.000\r\nnMotionVectorsY=48.000\r\nmv_dx=0.000\r\nmv_dy=0.000\r\nmv_l=0.000\r\nmv_r=1.000\r\nmv_g=1.000\r\nmv_b=0.000\r\nmv_a=0.000\r\nb1n=0.000\r\nb2n=0.000\r\nb3n=0.000\r\nb1x=1.000\r\nb2x=1.000\r\nb3x=1.000\r\nb1ed=0.000\r\nwavecode_0_enabled=0\r\nwavecode_0_samples=512\r\nwavecode_0_sep=0\r\nwavecode_0_bSpectrum=0\r\nwavecode_0_bUseDots=1\r\nwavecode_0_bDrawThick=0\r\nwavecode_0_bAdditive=0\r\nwavecode_0_scaling=2.44415\r\nwavecode_0_smoothing=0.00000\r\nwavecode_0_r=1.000\r\nwavecode_0_g=1.000\r\nwavecode_0_b=1.000\r\nwavecode_0_a=0.000\r\nwave_0_init1=t2 = 0;\r\nwave_0_init2=t3 = 0;\r\nwave_0_init3=t4 = 0;\r\nwave_0_init4=cl = 0;\r\nwave_0_per_frame1=t1 = 0;\r\nwave_0_per_frame2=v = 0.01;\r\nwave_0_per_frame3=j = j + (bass)*0.01;\r\nwave_0_per_frame4=j2 = j2 + (mid_att)*0.01;\r\nwave_0_per_frame5=j3 = j3 + (treb_att)*0.01;\r\nwave_0_per_frame6=t2 = j;\r\nwave_0_per_frame7=t3 = j2;\r\nwave_0_per_frame8=t4 = j3;\r\nwave_0_per_frame9=//t5 = 0;\r\nwave_0_per_frame10=k = k*0.99 + 10*mid/fps;\r\nwave_0_per_frame11=t5 = -k;\r\nwave_0_per_frame12=\r\nwave_0_per_frame13=cl1 = cl1 + 0.002;\r\nwave_0_per_frame14=cl1 = if(above(cl1,1),0,cl1);\r\nwave_0_per_frame15=cl1 = if(below(cl1,0),1,cl1);\r\nwave_0_per_frame16=t8 = cl1;\r\nwave_0_per_frame17=\r\nwave_0_per_frame18=cl2 = cl2 -1*q1;\r\nwave_0_per_frame19=cl2 = if(above(cl2,1),0,cl2);\r\nwave_0_per_frame20=cl2 = if(below(cl2,0),1,cl2);\r\nwave_0_per_frame21=t7 = cl2;\r\nwave_0_per_frame22=\r\nwave_0_per_frame23=cl3 = cl3 +0.001;\r\nwave_0_per_frame24=cl3 = if(above(cl3,1),0,cl3);\r\nwave_0_per_frame25=cl3 = if(below(cl3,0),1,cl3);\r\nwave_0_per_frame26=t6 = cl3;\r\nwave_0_per_point1=xx = ((sample*0983624912364)%10000000+100)/10000000;\r\nwave_0_per_point2=yy = ((xx*1896575575)%10000000+100)/10000000;\r\nwave_0_per_point3=zz = ((yy*58652340875)%10000000+100)/10000000;\r\nwave_0_per_point4=\r\nwave_0_per_point5=\r\nwave_0_per_point6=d = sqrt(sqr(xx)+sqr(yy)+sqr(zz));\r\nwave_0_per_point7=\r\nwave_0_per_point8=zz = zz + t8 - if(above(zz+t8,1),1,0) - 0.5;\r\nwave_0_per_point9=xx = xx + t7 - if(above(xx+t7,1),1,0) - 0.5;\r\nwave_0_per_point10=yy = yy + t6 - if(above(yy+t6,1),1,0) - 0.5;\r\nwave_0_per_point11=\r\nwave_0_per_point12=v = 0.001;\r\nwave_0_per_point13=\r\nwave_0_per_point14=w = 1;// (sample*sin(time*0.3)*0.01-1);\r\nwave_0_per_point15=bb = d*d*0.5;\r\nwave_0_per_point16=n= 0.3;\r\nwave_0_per_point17=s1 = sin(sin(t2*w+bb)*n);\r\nwave_0_per_point18=s2 = sin(sin(t3*w+bb)*n);\r\nwave_0_per_point19=s3 = sin(sin(t4*w+bb)*n);\r\nwave_0_per_point20=c1 = cos(sin(t2*w+bb)*n);\r\nwave_0_per_point21=c2 = cos(sin(t3*w+bb)*n);\r\nwave_0_per_point22=c3 = cos(sin(t4*w+bb)*n);\r\nwave_0_per_point23=\r\nwave_0_per_point24=z = (c3*s1*c2 + s3*s2)*xx - (c3*s1*s2-s3*c2)*yy + c3*c1*zz;\r\nwave_0_per_point25=x1 = (c1*c2*xx + c1*s2*yy - s1*zz);\r\nwave_0_per_point26=y1 = ((s3*s1*c2 - c3*s2)*xx + (s3*s1*s2+c3*c2)*yy + s3*c1*zz);\r\nwave_0_per_point27=\r\nwave_0_per_point28=zoom = .5*(1/(z+0.5));\r\nwave_0_per_point29=x = 0.5 + zoom*x1 + sin(time*0.1)*0.;;\r\nwave_0_per_point30=y = 0.5 + zoom*y1 + cos(time*0.16801)*0.;\r\nwave_0_per_point31=\r\nwave_0_per_point32=pi3 = 3.1415*2*0.3333;\r\nwave_0_per_point33=t = z*2+t2*1;\r\nwave_0_per_point34=c=3;\r\nwave_0_per_point35=//r = sin(t)*c;\r\nwave_0_per_point36=\r\nwave_0_per_point37=//g = sin(t+pi3)*c;\r\nwave_0_per_point38=\r\nwave_0_per_point39=//b = sin(t-pi3)*c;\r\nwave_0_per_point40=\r\nwave_0_per_point41=\r\nwave_0_per_point42=r = if(above(r,1),1,r);\r\nwave_0_per_point43=r = if(below(r,0),0,r);\r\nwave_0_per_point44=g = if(above(g,1),1,g);\r\nwave_0_per_point45=g = if(below(g,0),0,g);\r\nwave_0_per_point46=b = if(above(b,1),1,b);\r\nwave_0_per_point47=b = if(below(b,0),0,b);\r\nwave_0_per_point48=\r\nwave_0_per_point49=a = 0.4;\r\nwavecode_1_enabled=0\r\nwavecode_1_samples=512\r\nwavecode_1_sep=0\r\nwavecode_1_bSpectrum=0\r\nwavecode_1_bUseDots=0\r\nwavecode_1_bDrawThick=0\r\nwavecode_1_bAdditive=0\r\nwavecode_1_scaling=7.75180\r\nwavecode_1_smoothing=0.00000\r\nwavecode_1_r=1.000\r\nwavecode_1_g=1.000\r\nwavecode_1_b=1.000\r\nwavecode_1_a=0.210\r\nwave_1_init1=t2 = 0;\r\nwave_1_init2=t3 = 0;\r\nwave_1_init3=t4 = 0;\r\nwave_1_init4=cl = 0;\r\nwave_1_per_frame1=t8 = 1;\r\nwave_1_per_frame2=\r\nwave_1_per_frame3=t1 = 0.5;\r\nwave_1_per_frame4=t2 = 0.9;\r\nwave_1_per_point1=d = d*0.85 + (value1)*1;\r\nwave_1_per_point2=\r\nwave_1_per_point3=x = 0.5 + d*sample*(1-sample);\r\nwave_1_per_point4=y = 0.9 - sample*0.8;\r\nwavecode_2_enabled=1\r\nwavecode_2_samples=442\r\nwavecode_2_sep=0\r\nwavecode_2_bSpectrum=0\r\nwavecode_2_bUseDots=0\r\nwavecode_2_bDrawThick=0\r\nwavecode_2_bAdditive=1\r\nwavecode_2_scaling=5.92556\r\nwavecode_2_smoothing=0.00000\r\nwavecode_2_r=1.000\r\nwavecode_2_g=1.000\r\nwavecode_2_b=1.000\r\nwavecode_2_a=0.160\r\nwave_2_per_frame1=t1 = 0;\r\nwave_2_per_frame2=t2 = 0;\r\nwave_2_per_frame3=\r\nwave_2_per_frame4=\r\nwave_2_per_point1=// q32 number of attributes\r\nwave_2_per_point2=// q31 number of objects\r\nwave_2_per_point3=\r\nwave_2_per_point4=ppo = 11; // number of points used for each object\r\nwave_2_per_point5=index = t2*q32; // object's index\r\nwave_2_per_point6=\r\nwave_2_per_point7=x = 0.5 +(gmegabuf(index)-0.5)/q2;\r\nwave_2_per_point8=y = 0.5 + (gmegabuf(index+1)-0.5)/q2;\r\nwave_2_per_point9=\r\nwave_2_per_point10=// collecting pairs of index and distance to the current object in a local buffer\r\nwave_2_per_point11=i = 0;\r\nwave_2_per_point12=j = 0; \r\nwave_2_per_point13=loop(q31,\r\nwave_2_per_point14=     d = sqrt( sqr(gmegabuf(index)-gmegabuf(i)) + sqr(gmegabuf(index+1)-gmegabuf(i+1)));\r\nwave_2_per_point15=     megabuf(j)   = i; // store index/distance pairs\r\nwave_2_per_point16=     megabuf(j+1) = d; \r\nwave_2_per_point17=     j = j+2;\r\nwave_2_per_point18=     i = i+q32;\r\nwave_2_per_point19=    );\r\nwave_2_per_point20=\r\nwave_2_per_point21=// sort that buffer, but only 5 cycles for the 5 nearest objects\r\nwave_2_per_point22=i = 0;\r\nwave_2_per_point23=loop( 7,\r\nwave_2_per_point24=      j = i;\r\nwave_2_per_point25=      smallestfind = 100;\r\nwave_2_per_point26=      findindex = -1;\r\nwave_2_per_point27=      loop( q31-j,\r\nwave_2_per_point28=            distance =megabuf(j*2+1);\r\nwave_2_per_point29=            smaller = above( smallestfind, distance);\r\nwave_2_per_point30=            smallestfind = if(smaller, distance, smallestfind);\r\nwave_2_per_point31=            findindex = if( smaller, j*2, findindex);\r\nwave_2_per_point32=            j = j + 1;\r\nwave_2_per_point33=          );\r\nwave_2_per_point34=\r\nwave_2_per_point35=      // now that the nearest object was found, swap it to the buffer's top\r\nwave_2_per_point36=\r\nwave_2_per_point37=      j = megabuf(i);\r\nwave_2_per_point38=      d = megabuf(i+1);\r\nwave_2_per_point39=\r\nwave_2_per_point40=      megabuf(i)   = megabuf(findindex);\r\nwave_2_per_point41=      megabuf(i+1) = megabuf(findindex+1);\r\nwave_2_per_point42=      megabuf(findindex)   = j;\r\nwave_2_per_point43=      megabuf(findindex+1) = d;\r\nwave_2_per_point44=\r\nwave_2_per_point45=      i = i+1;\r\nwave_2_per_point46=    );\r\nwave_2_per_point47=\r\nwave_2_per_point48=\r\nwave_2_per_point49=index2 = (t1)%ppo;\r\nwave_2_per_point50=i = if(below(index2,ppo-4),megabuf(index2),index);\r\nwave_2_per_point51=xx = 0.5 + (gmegabuf(i)-0.5)/q2;\r\nwave_2_per_point52=yy = 0.5 + (gmegabuf(i+1)-0.5)/q2;\r\nwave_2_per_point53=w = asin(1)*index2/4;\r\nwave_2_per_point54=//xx = x + sin(w)*0.1;\r\nwave_2_per_point55=//yy = y + cos(w)*0.1;\r\nwave_2_per_point56=x = if( equal(index2%2,0), x, xx);\r\nwave_2_per_point57=y = if( equal(index2%2,0), y, yy);\r\nwave_2_per_point58=\r\nwave_2_per_point59=\r\nwave_2_per_point60=b = below(index2,ppo-1)*above(index2,0);\r\nwave_2_per_point61=r = b;\r\nwave_2_per_point62=g = b;\r\nwave_2_per_point63=\r\nwave_2_per_point64=\r\nwave_2_per_point65=t2 = t2 + equal(t1%ppo,ppo-1);\r\nwave_2_per_point66=t1 = t1 + 1;\r\nwavecode_3_enabled=0\r\nwavecode_3_samples=512\r\nwavecode_3_sep=0\r\nwavecode_3_bSpectrum=0\r\nwavecode_3_bUseDots=0\r\nwavecode_3_bDrawThick=1\r\nwavecode_3_bAdditive=1\r\nwavecode_3_scaling=5.92556\r\nwavecode_3_smoothing=0.00000\r\nwavecode_3_r=1.000\r\nwavecode_3_g=0.000\r\nwavecode_3_b=0.000\r\nwavecode_3_a=0.340\r\nwave_3_init1=t2 = 0\r\nwave_3_per_frame1=t1 = q1;\r\nwave_3_per_frame2=t2 = q2;\r\nwave_3_per_frame3=t3 = q3;\r\nwave_3_per_frame4=t4 = q4;\r\nwave_3_per_frame5=t5 = q5;\r\nwave_3_per_frame6=t6 = q6;\r\nwave_3_per_frame7=t7 = q7;\r\nwave_3_per_frame8=t8 = q8;\r\nwave_3_per_point1=sample = 1-sample;\r\nwave_3_per_point2=xxx = xx;\r\nwave_3_per_point3=yyy = yy;\r\nwave_3_per_point4=xx = pow(sample,5)*t1 + 5*pow(sample,4)*(1-sample)*t1 + 10*pow(sample,3)*sqr(1-sample)*t2\r\nwave_3_per_point5=+ 10*sqr(sample)*pow(1-sample,3)*t3 + 5*pow(1-sample,4)*sample*t4 + pow(1-sample,5)*t4;\r\nwave_3_per_point6=\r\nwave_3_per_point7=yy = pow(sample,5)*t5 + 5*pow(sample,4)*(1-sample)*t5 + 10*pow(sample,3)*sqr(1-sample)*t6\r\nwave_3_per_point8=+ 10*sqr(sample)*pow(1-sample,3)*t7 + 5*pow(1-sample,4)*sample*t8 + pow(1-sample,5)*t8;\r\nwave_3_per_point9=\r\nwave_3_per_point10=d = 1/sqrt(sqr(xx-xxx)+sqr(yy-yyy));\r\nwave_3_per_point11=dd = dd*0.95 + (value1);\r\nwave_3_per_point12=ddd = dd*sample*(1-sample)*d;\r\nwave_3_per_point13=ddd = sample*(1-sample)*sin(sample*120)*d*0.1;\r\nwave_3_per_point14=x = xx + (yy-yyy)*ddd;\r\nwave_3_per_point15=y = yy - (xx-xxx)*ddd;\r\nwave_3_per_point16=\r\nwave_3_per_point17=x = 0.5 + (x-0.5)*q9;\r\nwave_3_per_point18=y = 0.5 + (y-0.5)*q10;\r\nwave_3_per_point19=\r\nshapecode_0_enabled=1\r\nshapecode_0_sides=100\r\nshapecode_0_additive=1\r\nshapecode_0_thickOutline=0\r\nshapecode_0_textured=0\r\nshapecode_0_num_inst=50\r\nshapecode_0_x=0.500\r\nshapecode_0_y=0.500\r\nshapecode_0_rad=0.01000\r\nshapecode_0_ang=3.20442\r\nshapecode_0_tex_ang=0.00000\r\nshapecode_0_tex_zoom=6.23873\r\nshapecode_0_r=1.000\r\nshapecode_0_g=1.000\r\nshapecode_0_b=1.000\r\nshapecode_0_a=0.000\r\nshapecode_0_r2=1.000\r\nshapecode_0_g2=1.000\r\nshapecode_0_b2=1.000\r\nshapecode_0_a2=0.000\r\nshapecode_0_border_r=1.000\r\nshapecode_0_border_g=1.000\r\nshapecode_0_border_b=1.000\r\nshapecode_0_border_a=0.820\r\nshape_0_per_frame1=index = instance*q32;\r\nshape_0_per_frame2=\r\nshape_0_per_frame3=x = gmegabuf(index);\r\nshape_0_per_frame4=y = gmegabuf(index+1);\r\nshape_0_per_frame5=\r\nshape_0_per_frame6=rad = gmegabuf(index+4)*2;\r\nshape_0_per_frame7=\r\nshape_0_per_frame8=r = gmegabuf(index+5);\r\nshape_0_per_frame9=g = gmegabuf(index+6);\r\nshape_0_per_frame10=b = gmegabuf(index+7);\r\nshape_0_per_frame11=\r\nshape_0_per_frame12=r2 = r; g2 = g; b2 = b;\r\nshape_0_per_frame13=\r\nshape_0_per_frame14=\r\nshape_0_per_frame15=x = 0.5 + (x-0.5)/q2;\r\nshapecode_1_enabled=0\r\nshapecode_1_sides=100\r\nshapecode_1_additive=1\r\nshapecode_1_thickOutline=1\r\nshapecode_1_textured=1\r\nshapecode_1_num_inst=1\r\nshapecode_1_x=0.740\r\nshapecode_1_y=0.270\r\nshapecode_1_rad=0.64927\r\nshapecode_1_ang=3.83274\r\nshapecode_1_tex_ang=0.00000\r\nshapecode_1_tex_zoom=0.81948\r\nshapecode_1_r=1.000\r\nshapecode_1_g=1.000\r\nshapecode_1_b=0.000\r\nshapecode_1_a=1.000\r\nshapecode_1_r2=0.000\r\nshapecode_1_g2=0.000\r\nshapecode_1_b2=0.000\r\nshapecode_1_a2=1.000\r\nshapecode_1_border_r=1.000\r\nshapecode_1_border_g=1.000\r\nshapecode_1_border_b=1.000\r\nshapecode_1_border_a=0.000\r\nshape_1_init1=vx = 0\r\nshapecode_2_enabled=0\r\nshapecode_2_sides=100\r\nshapecode_2_additive=1\r\nshapecode_2_thickOutline=1\r\nshapecode_2_textured=1\r\nshapecode_2_num_inst=1\r\nshapecode_2_x=0.500\r\nshapecode_2_y=0.500\r\nshapecode_2_rad=0.33000\r\nshapecode_2_ang=0.00000\r\nshapecode_2_tex_ang=0.00000\r\nshapecode_2_tex_zoom=0.73458\r\nshapecode_2_r=0.000\r\nshapecode_2_g=1.000\r\nshapecode_2_b=0.000\r\nshapecode_2_a=1.000\r\nshapecode_2_r2=0.000\r\nshapecode_2_g2=1.000\r\nshapecode_2_b2=0.000\r\nshapecode_2_a2=0.000\r\nshapecode_2_border_r=1.000\r\nshapecode_2_border_g=1.000\r\nshapecode_2_border_b=1.000\r\nshapecode_2_border_a=0.000\r\nshape_2_init1=vx = 0\r\nshapecode_3_enabled=0\r\nshapecode_3_sides=64\r\nshapecode_3_additive=1\r\nshapecode_3_thickOutline=1\r\nshapecode_3_textured=0\r\nshapecode_3_num_inst=1\r\nshapecode_3_x=0.500\r\nshapecode_3_y=0.500\r\nshapecode_3_rad=0.16283\r\nshapecode_3_ang=0.75398\r\nshapecode_3_tex_ang=0.00000\r\nshapecode_3_tex_zoom=0.73458\r\nshapecode_3_r=0.000\r\nshapecode_3_g=1.000\r\nshapecode_3_b=0.000\r\nshapecode_3_a=1.000\r\nshapecode_3_r2=0.000\r\nshapecode_3_g2=1.000\r\nshapecode_3_b2=0.000\r\nshapecode_3_a2=0.000\r\nshapecode_3_border_r=1.000\r\nshapecode_3_border_g=1.000\r\nshapecode_3_border_b=1.000\r\nshapecode_3_border_a=0.000\r\nshape_3_init1=vx = 0\r\nper_frame_init_1=p1 = int(rand(16));\r\nper_frame_init_2=p2 = p1;\r\nper_frame_1=dec_med = pow (0.96, 30/fps);\r\nper_frame_2=dec_slow = pow (0.99, 30/fps);\r\nper_frame_3=beat = max (max (bass, mid), treb); \r\nper_frame_4=avg = avg*dec_slow + beat*(1-dec_slow);\r\nper_frame_5=is_beat = above(beat, .4+avg+peak) * above (time, t0+.2);\r\nper_frame_6=t0 = is_beat*time + (1-is_beat)*t0;\r\nper_frame_7=peak = is_beat * beat + (1-is_beat)*peak*dec_med;\r\nper_frame_8=index = (index + is_beat) %8;\r\nper_frame_9=index2 = (index2 + is_beat*bnot(index))%4;\r\nper_frame_10=index3 = (index3 + is_beat*bnot(index)*bnot(index2))%3;\r\nper_frame_11=\r\nper_frame_12=\r\nper_frame_13=q20 = avg;\r\nper_frame_14=q21 = beat;\r\nper_frame_15=q22 = peak;\r\nper_frame_16=q23 = index;\r\nper_frame_17=q24 = is_beat;\r\nper_frame_18=q26 = bass + mid + treb;\r\nper_frame_19=\r\nper_frame_20=//k1 =  is_beat*bnot(index)*bnot(index2);\r\nper_frame_21=\r\nper_frame_22=k1 =  is_beat*equal(index,0);\r\nper_frame_23=p1 =  k1*(p1+1) + (1-k1)*p1;\r\nper_frame_24=p2 = dec_med * p2+ (1-dec_med)*p1;\r\nper_frame_25=rott = p2 * 3.14159265359/4;\r\nper_frame_26=\r\nper_frame_27=q27 = 8-index;\r\nper_frame_28=q28 = sin(time/7);\r\nper_frame_29=q29 = index4;\r\nper_frame_30=\r\nper_frame_31=q1 = cos(rott);\r\nper_frame_32=q2 = sin(rott);\r\nper_frame_33=q3 = -q2;\r\nper_frame_34=q4 = q1;\r\nper_frame_35=\r\nper_frame_36=mv_a = .5 * q1;\r\nper_frame_37=\r\nper_frame_38=movez = movez + .01 * 30/fps ;\r\nper_frame_39=q29 = movez;\r\nper_frame_40=\r\nper_frame_41=movex = movex + .003 * 30/fps *q2;\r\nper_frame_42=q30 = movex;\r\nper_frame_43=\r\nper_frame_44=q31 = sqr(sin(time/17));\r\nper_frame_45=q32 = sqr(cos(time/17));\r\nper_frame_46=\r\nper_frame_47=zoom = 1.0;\r\nper_frame_48=rot = .0;\r\nper_frame_49=dx = .0;\r\nper_frame_50=warp = .2;\r\nwarp_1=`float figure_borders(float2 domain, float thickness){\r\nwarp_2=`   float2 help_uv = frac(domain-0.5);\r\nwarp_3=`   help_uv = min(help_uv,1-help_uv)*2;\r\nwarp_4=`   return saturate(max(help_uv.x,help_uv.y)-1+thickness)/(thickness);\r\nwarp_5=`}\r\nwarp_6=`\r\nwarp_7=`shader_body\r\nwarp_8=`{\r\nwarp_9=`float2 help_uv = uv_orig*float2(8,12);\r\nwarp_10=`ret = figure_borders(help_uv,0.1);\r\nwarp_11=`}\r\ncomp_1=`float3 ret1, neu, blur;\r\ncomp_2=`\r\ncomp_3=`shader_body\r\ncomp_4=`{\r\ncomp_5=`float2 uv2;\r\ncomp_6=`float ang2, c, s;\r\ncomp_7=`uv -= 0.5;\r\ncomp_8=`uv *= aspect.xy;    \r\ncomp_9=`\r\ncomp_10=`float dist = 1;\r\ncomp_11=`float inten = 1;\r\ncomp_12=`ret1 = 0;\r\ncomp_13=`int anz = 3;\r\ncomp_14=`int n = 1;\r\ncomp_15=`while (n <= anz) {\r\ncomp_16=`    ang2 = n/anz;\r\ncomp_17=`    c = (ang2);\r\ncomp_18=`    s = 1-(ang2);\r\ncomp_19=`    uv2.x =  uv.x*c - uv.y*s;\r\ncomp_20=`    uv2.y =  uv.x*s + uv.y*c;\r\ncomp_21=`    uv2 *= aspect.yx;\r\ncomp_22=`    dist = 1-frac(.25*n+q29); //evtl sqrt !\r\ncomp_23=`    inten =  pow(dist,.5)*(1-dist*dist)*2;\r\ncomp_24=`    float2 uv3 = frac(3*uv2*dist + .5 + q31);;\r\ncomp_25=`    neu =  GetPixel (uv3) + 2*GetBlur1(uv3);\r\ncomp_26=`\r\ncomp_27=`    ret1 = max(ret1*.9,neu*inten);\r\ncomp_28=`n++;\r\ncomp_29=`}\r\ncomp_30=`\r\ncomp_31=`ret = .5*ret1 + 0.5*float3(0,0,.3)*(.5+uv.y) ;\r\ncomp_32=`//ret = GetPixel(uv+.5);\r\ncomp_33=`}\r\n"
}