{
  "name": "stbenge - water_C",
  "description": "stbenge - water_C",
  "milkdrop_raw": "MILKDROP_PRESET_VERSION=201\r\nPSVERSION=3\r\nPSVERSION_WARP=3\r\nPSVERSION_COMP=3\r\n[preset00]\r\nfRating=5.000000\r\nfGammaAdj=1.000000\r\nfDecay=.975;\r\nfVideoEchoZoom=1.00000\r\nfVideoEchoAlpha=0.000000\r\nnVideoEchoOrientation=3\r\nnWaveMode=0\r\nbAdditiveWaves=1\r\nbWaveDots=0\r\nbWaveThick=0\r\nbModWaveAlphaByVolume=1\r\nbMaximizeWaveColor=0\r\nbTexWrap=0\r\nbDarkenCenter=0\r\nbMotionVectorsOn=0\r\nbRedBlueStereo=0\r\nnMotionVectorsX=12\r\nnMotionVectorsY=9\r\nbBrighten=0\r\nbDarken=0\r\nbSolarize=0\r\nbInvert=0\r\nfWaveAlpha=.0001\r\nfWaveScale=1.285751\r\nfWaveSmoothing=0.630000\r\nfWaveParam=0.000000\r\nfModWaveAlphaStart=0.710000\r\nfModWaveAlphaEnd=1.300000\r\nfWarpAnimSpeed=1.000000\r\nfWarpScale=1.331000\r\nfZoomExponent=1.000000\r\nfShader=0.000000\r\n//zoom=1.0105\r\n//rot=-0.010\r\ncx=0.500000\r\ncy=0.500000\r\ndx=0.000000\r\ndy=0.000000\r\nwarp=0.000000\r\nsx=1.000000\r\nsy=1.000000\r\nwave_x=0.500000\r\nwave_y=0.500000\r\nwave_r=0.65\r\nwave_g=0.65\r\nwave_b=0.65\r\nob_size=0.500000\r\nob_r=0.010000\r\nob_g=0.000000\r\nob_b=0.000000\r\nob_a=0.000000\r\nib_size=0.260000\r\nib_r=0.250000\r\nib_g=0.250000\r\nib_b=0.250000\r\nwavecode_0_enabled=1\r\nwavecode_0_samples=512\r\nwavecode_0_sep=0\r\nwavecode_0_bSpectrum=0\r\nwavecode_0_bUseDots=1\r\nwavecode_0_bDrawThick=1\r\nwavecode_0_bAdditive=0\r\nwavecode_0_scaling=1.0\r\nwavecode_0_smoothing=0.5\r\nwavecode_0_r=1.0\r\nwavecode_0_g=1.0\r\nwavecode_0_b=1.0\r\nwavecode_0_a=1.0\r\n\r\nwave_0_per_frame1=q1=3.1415;\r\nwave_0_per_frame2=q2=0;\r\n\r\nwave_0_per_point1=pi=q1; pad=0.001;\r\nwave_0_per_point2=q2=q2+1;\r\nwave_0_per_point3=v=q2;\r\nwave_0_per_point4=av=av+q1/100;\r\nwave_0_per_point5=tv=tv+bass*.001;\r\nwave_0_per_point6=a=(.5+cos(pi*6.3*tv)*.5)*(1-sample);\r\nwave_0_per_point7=xv=xv+(int(rand(100))-int(rand(100)))*.0000001;\r\nwave_0_per_point8=yv=yv+(int(rand(100))-int(rand(100)))*.0000001;\r\nwave_0_per_point9= xv=if(below(xv,-pad),-pad,xv); yv=if(below(yv,-pad),-pad,yv);\r\nwave_0_per_point10=xv=if(above(xv,pad),pad,xv); yv=if(above(yv,pad),pad,yv);\r\nwave_0_per_point11=//xv=if(below(x2,.15),-xv,xv); xv=if(above(x2,.85),-xv,xv); yv=if(below(y2,.15),-yv,yv); yv=if(above(y2,.85),-yv,yv);\r\nwave_0_per_point12=x2=if(below(x2,-.15),1.15,x2); x2=if(above(x2,1.15),-.15,x2);\r\nwave_0_per_point13=y2=if(below(y2,-.15),1.15,y2); y2=if(above(y2,1.15),-.15,y2);\r\nwave_0_per_point14=\r\nwave_0_per_point15=\r\nwave_0_per_point16=x2=x2+xv*.1; y2=y2+yv*.1;\r\nwave_0_per_point17=\r\nwave_0_per_point18=x=x2; y=y2;\r\n\r\nwarp_1=` float x, y;\r\nwarp_2=` float2 d;\r\nwarp_3=` float3 col_old, col;\r\nwarp_4=`\r\nwarp_5=` shader_body{\r\nwarp_6=`  d=2*texsize.zw; x=uv.x, y=uv.y;\r\nwarp_7=`  \r\nwarp_8=`  col_old=GetPixel(uv);\r\nwarp_9=`  col=\r\nwarp_10=`  (GetPixel(uv+d*float2(-1,0)).y\r\nwarp_11=`  +GetPixel(uv+d*float2(1,0)).y\r\nwarp_12=`  +GetPixel(uv+d*float2(0,-1)).y\r\nwarp_13=`  +GetPixel(uv+d*float2(0,1)).y)*.5-col_old.x\r\nwarp_14=`  +tex2D(sampler_pw_main,uv).z*.005; // remove this line to see the old method, controls the length of the waves\r\nwarp_15=` col*=.998;\r\nwarp_16=` col.z=\r\nwarp_17=`  (GetPixel(uv+d*float2(-1,0)).z\r\nwarp_18=`  +GetPixel(uv+d*float2(1,0)).z\r\nwarp_19=`  +GetPixel(uv+d*float2(0,-1)).z\r\nwarp_20=`  +GetPixel(uv+d*float2(0,1)).z\r\nwarp_21=`  +GetPixel(uv).z);\r\nwarp_22=` \r\nwarp_23=` if(col.z>1)col.z=0;\r\nwarp_24=` ret=float3(col_old.y,col.x,col.z);\r\nwarp_25=` \r\nwarp_26=` if(rad>aspect.y*.95)ret=1;\r\nwarp_27=`}\r\n\r\ncomp_1=` float s1, s2, s3, s4, ioffs, x, y;\r\ncomp_2=` float2 d;\r\ncomp_3=`\r\ncomp_4=` shader_body{\r\ncomp_5=`  ioffs=2; // higher values = smoother results for distortion\r\ncomp_6=`  x=uv.x, y=uv.y;\r\ncomp_7=`  d=texsize.zw;\r\ncomp_8=` \r\ncomp_9=`  s1=GetPixel(uv+d*float2(x+ioffs,y)).x;\r\ncomp_10=` s2=GetPixel(uv+d*float2(x-ioffs,y)).x;\r\ncomp_11=` s3=GetPixel(uv+d*float2(x,y+ioffs)).x;\r\ncomp_12=` s4=GetPixel(uv+d*float2(x,y-ioffs)).x;\r\ncomp_13=`\r\ncomp_14=` // distorted noise\r\ncomp_15=` ret=tex2D(sampler_noise_hq,d*float2(time*20,time*10)+uv*.2+17000*d*float2( (s1-s2)/(ioffs*64), (s3-s4)/(ioffs*64) ) ).x;\r\ncomp_16=`\r\ncomp_17=` // distorted, blurred drop shadow to simulate refracted caustics, slow\r\ncomp_18=` //ret=float3(1.5,1.85,2.5)*(1-GetBlur1(d*float2(0,-30)+uv+17000*d*float2( (s1-s2)/(ioffs*64), (s3-s4)/(ioffs*64) ) ).x);\r\ncomp_19=`\r\ncomp_20=` // layer 3, in case you're interested\r\ncomp_21=` //ret=lum(tex2d(sampler_main, uv).z);\r\ncomp_22=`}"
}