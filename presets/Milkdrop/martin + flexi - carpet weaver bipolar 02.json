{
  "name": "martin + flexi - carpet weaver bipolar 02",
  "description": "martin + flexi - carpet weaver bipolar 02",
  "milkdrop_raw": "MILKDROP_PRESET_VERSION=201\r\nPSVERSION=3\r\nPSVERSION_WARP=3\r\nPSVERSION_COMP=3\r\n[preset00]\r\nfRating=5.000000\r\nfGammaAdj=1.980\r\nfDecay=0.500\r\nfVideoEchoZoom=1.000\r\nfVideoEchoAlpha=0.500\r\nnVideoEchoOrientation=3\r\nnWaveMode=6\r\nbAdditiveWaves=0\r\nbWaveDots=0\r\nbWaveThick=1\r\nbModWaveAlphaByVolume=1\r\nbMaximizeWaveColor=0\r\nbTexWrap=1\r\nbDarkenCenter=0\r\nbRedBlueStereo=0\r\nbBrighten=0\r\nbDarken=1\r\nbSolarize=0\r\nbInvert=0\r\nfWaveAlpha=0.005\r\nfWaveScale=0.527\r\nfWaveSmoothing=0.090\r\nfWaveParam=-0.000\r\nfModWaveAlphaStart=0.000\r\nfModWaveAlphaEnd=1.320\r\nfWarpAnimSpeed=1.459\r\nfWarpScale=2.007\r\nfZoomExponent=1.00000\r\nfShader=0.000\r\nzoom=0.99990\r\nrot=0.00000\r\ncx=0.500\r\ncy=0.500\r\ndx=0.00000\r\ndy=0.00000\r\nwarp=0.01000\r\nsx=0.99990\r\nsy=1.00000\r\nwave_r=0.000\r\nwave_g=0.000\r\nwave_b=0.000\r\nwave_x=0.500\r\nwave_y=1.000\r\nob_size=0.010\r\nob_r=0.000\r\nob_g=0.000\r\nob_b=0.000\r\nob_a=1.000\r\nib_size=0.260\r\nib_r=0.250\r\nib_g=0.250\r\nib_b=0.250\r\nib_a=0.000\r\nnMotionVectorsX=64.000\r\nnMotionVectorsY=48.000\r\nmv_dx=0.000\r\nmv_dy=0.000\r\nmv_l=0.000\r\nmv_r=0.500\r\nmv_g=0.500\r\nmv_b=0.500\r\nmv_a=0.000\r\nb1n=0.000\r\nb2n=0.000\r\nb3n=0.000\r\nb1x=1.000\r\nb2x=1.000\r\nb3x=1.000\r\nb1ed=0.000\r\nwavecode_0_enabled=1\r\nwavecode_0_samples=128\r\nwavecode_0_sep=128\r\nwavecode_0_bSpectrum=1\r\nwavecode_0_bUseDots=0\r\nwavecode_0_bDrawThick=0\r\nwavecode_0_bAdditive=1\r\nwavecode_0_scaling=2.15542\r\nwavecode_0_smoothing=0.00000\r\nwavecode_0_r=0.000\r\nwavecode_0_g=1.000\r\nwavecode_0_b=1.000\r\nwavecode_0_a=0.700\r\nwave_0_per_point1=x = sample;\r\nwave_0_per_point2=\r\nwave_0_per_point3=n = int(sample*128);\r\nwave_0_per_point4=gmegabuf(n) = gmegabuf(n)*.5 + .5* (value1+value2) * (1+0*(rand(100)-50));\r\nwave_0_per_point5=\r\nwave_0_per_point6=a = 0;\r\nwave_0_per_point7=y = gmegabuf (n)*.15+.2;\r\nwavecode_1_enabled=0\r\nwavecode_1_samples=128\r\nwavecode_1_sep=0\r\nwavecode_1_bSpectrum=0\r\nwavecode_1_bUseDots=0\r\nwavecode_1_bDrawThick=1\r\nwavecode_1_bAdditive=0\r\nwavecode_1_scaling=0.89152\r\nwavecode_1_smoothing=0.82000\r\nwavecode_1_r=0.000\r\nwavecode_1_g=0.000\r\nwavecode_1_b=0.000\r\nwavecode_1_a=0.100\r\nwavecode_2_enabled=0\r\nwavecode_2_samples=32\r\nwavecode_2_sep=0\r\nwavecode_2_bSpectrum=0\r\nwavecode_2_bUseDots=1\r\nwavecode_2_bDrawThick=0\r\nwavecode_2_bAdditive=0\r\nwavecode_2_scaling=0.89152\r\nwavecode_2_smoothing=0.82000\r\nwavecode_2_r=0.000\r\nwavecode_2_g=0.200\r\nwavecode_2_b=0.600\r\nwavecode_2_a=1.000\r\nwavecode_3_enabled=0\r\nwavecode_3_samples=512\r\nwavecode_3_sep=0\r\nwavecode_3_bSpectrum=1\r\nwavecode_3_bUseDots=1\r\nwavecode_3_bDrawThick=0\r\nwavecode_3_bAdditive=0\r\nwavecode_3_scaling=1.00000\r\nwavecode_3_smoothing=0.50000\r\nwavecode_3_r=1.000\r\nwavecode_3_g=1.000\r\nwavecode_3_b=1.000\r\nwavecode_3_a=1.000\r\nshapecode_0_enabled=0\r\nshapecode_0_sides=14\r\nshapecode_0_additive=0\r\nshapecode_0_thickOutline=0\r\nshapecode_0_textured=0\r\nshapecode_0_num_inst=32\r\nshapecode_0_x=0.500\r\nshapecode_0_y=0.500\r\nshapecode_0_rad=0.03632\r\nshapecode_0_ang=0.00000\r\nshapecode_0_tex_ang=1.00531\r\nshapecode_0_tex_zoom=1.53117\r\nshapecode_0_r=1.000\r\nshapecode_0_g=0.000\r\nshapecode_0_b=1.000\r\nshapecode_0_a=0.000\r\nshapecode_0_r2=0.000\r\nshapecode_0_g2=0.000\r\nshapecode_0_b2=0.000\r\nshapecode_0_a2=0.600\r\nshapecode_0_border_r=1.000\r\nshapecode_0_border_g=1.000\r\nshapecode_0_border_b=0.000\r\nshapecode_0_border_a=0.300\r\nshape_0_per_frame1=k1 = instance/num_inst;\r\nshape_0_per_frame2=n = instance*4+2000;\r\nshape_0_per_frame3=x = gmegabuf(n);\r\nshape_0_per_frame4=y = gmegabuf(n+1);\r\nshape_0_per_frame5=z = gmegabuf(n+2);\r\nshape_0_per_frame6=\r\nshape_0_per_frame7=rad = .02/z;\r\nshape_0_per_frame8=a = 0; a2 = 0;\r\nshapecode_1_enabled=1\r\nshapecode_1_sides=6\r\nshapecode_1_additive=0\r\nshapecode_1_thickOutline=0\r\nshapecode_1_textured=0\r\nshapecode_1_num_inst=128\r\nshapecode_1_x=0.260\r\nshapecode_1_y=0.200\r\nshapecode_1_rad=0.39317\r\nshapecode_1_ang=0.00000\r\nshapecode_1_tex_ang=0.00000\r\nshapecode_1_tex_zoom=0.93550\r\nshapecode_1_r=1.000\r\nshapecode_1_g=1.000\r\nshapecode_1_b=0.600\r\nshapecode_1_a=1.000\r\nshapecode_1_r2=0.000\r\nshapecode_1_g2=0.000\r\nshapecode_1_b2=0.000\r\nshapecode_1_a2=0.000\r\nshapecode_1_border_r=0.000\r\nshapecode_1_border_g=0.000\r\nshapecode_1_border_b=0.000\r\nshapecode_1_border_a=0.000\r\nshape_1_per_frame1=k1 = instance/num_inst;\r\nshape_1_per_frame2=//n = instance*4+1000;\r\nshape_1_per_frame3=\r\nshape_1_per_frame4=n = gmegabuf(reg07+instance)+1000;\r\nshape_1_per_frame5=\r\nshape_1_per_frame6=x = k1;\r\nshape_1_per_frame7=x = x - int(x);\r\nshape_1_per_frame8=rad0 = 4/num_inst*q32;\r\nshape_1_per_frame9=y = 1-rad0/2;\r\nshape_1_per_frame10=rad = rad0;\r\nshape_1_per_frame11=\r\nshape_1_per_frame12=a =  1;\r\nshape_1_per_frame13=a2 = .8;\r\nshape_1_per_frame14=\r\nshape_1_per_frame15=k2 = gmegabuf(reg07+instance);\r\nshape_1_per_frame16=\r\nshape_1_per_frame17=r = k2/128;\r\nshape_1_per_frame18=b = 1-r;\r\nshape_1_per_frame19=g = pow(r-.5,2)*4;\r\nshape_1_per_frame20=ang = q10;\r\nshape_1_per_frame21=trel = q12*3;\r\nshape_1_per_frame22=m1 = (trel);\r\nshape_1_per_frame23=m2 = (trel*3);\r\nshape_1_per_frame24=m3 = (trel*7);\r\nshape_1_per_frame25=\r\nshape_1_per_frame26=r = sin(m1)*r + cos(m1)*g;\r\nshape_1_per_frame27=g = sin(m2)*g + cos(m2)*b;\r\nshape_1_per_frame28=b = sin(m3)*b + cos(m3)*r;\r\nshapecode_2_enabled=1\r\nshapecode_2_sides=6\r\nshapecode_2_additive=0\r\nshapecode_2_thickOutline=0\r\nshapecode_2_textured=1\r\nshapecode_2_num_inst=2\r\nshapecode_2_x=0.600\r\nshapecode_2_y=0.900\r\nshapecode_2_rad=0.05785\r\nshapecode_2_ang=0.00000\r\nshapecode_2_tex_ang=0.00000\r\nshapecode_2_tex_zoom=0.40556\r\nshapecode_2_r=0.000\r\nshapecode_2_g=0.000\r\nshapecode_2_b=0.000\r\nshapecode_2_a=1.000\r\nshapecode_2_r2=0.000\r\nshapecode_2_g2=0.000\r\nshapecode_2_b2=0.000\r\nshapecode_2_a2=1.000\r\nshapecode_2_border_r=0.500\r\nshapecode_2_border_g=0.500\r\nshapecode_2_border_b=0.500\r\nshapecode_2_border_a=0.000\r\nshape_2_per_frame1=rad0 = 4/128*q32;\r\nshape_2_per_frame2=y = 1-rad0/2 + .0*y;\r\nshape_2_per_frame3=rad = rad0 * (1+0*gmegabuf(n));\r\nshape_2_per_frame4=ang = q10;\r\nshape_2_per_frame5=x = (q10-q12+1)/2;\r\nshape_2_per_frame6=\r\nshape_2_per_frame7=k1 = max(3,80*abs(q12));\r\nshape_2_per_frame8=\r\nshape_2_per_frame9=trel = frame;\r\nshape_2_per_frame10=x1 =  (trel%k1)/k1;\r\nshape_2_per_frame11=x2 =  1-(trel%k1)/k1;\r\nshape_2_per_frame12=if (instance%2==0, x = x1, x = x2);\r\nshape_2_per_frame13=\r\nshape_2_per_frame14=a = .8 * (sin(q12*73) >= 0); a2 = a;\r\nshapecode_3_enabled=0\r\nshapecode_3_sides=14\r\nshapecode_3_additive=1\r\nshapecode_3_thickOutline=1\r\nshapecode_3_textured=1\r\nshapecode_3_num_inst=1\r\nshapecode_3_x=0.600\r\nshapecode_3_y=0.550\r\nshapecode_3_rad=0.97237\r\nshapecode_3_ang=1.25664\r\nshapecode_3_tex_ang=0.00000\r\nshapecode_3_tex_zoom=0.34933\r\nshapecode_3_r=1.000\r\nshapecode_3_g=0.600\r\nshapecode_3_b=0.000\r\nshapecode_3_a=1.000\r\nshapecode_3_r2=0.000\r\nshapecode_3_g2=0.000\r\nshapecode_3_b2=1.000\r\nshapecode_3_a2=0.000\r\nshapecode_3_border_r=0.200\r\nshapecode_3_border_g=0.700\r\nshapecode_3_border_b=0.500\r\nshapecode_3_border_a=0.000\r\nper_frame_init_1=index = 0;\r\nper_frame_init_2=loop (100000,\r\nper_frame_init_3=  megabuf(index) = 0;\r\nper_frame_init_4=  gmegabuf(index) = 0;\r\nper_frame_init_5=  index = index + 1;\r\nper_frame_init_6=);\r\nper_frame_init_7=\r\nper_frame_init_8=flen = 128; shapes = 32; sortbase = 7000;\r\nper_frame_init_9=\r\nper_frame_init_10=reg07 = sortbase;\r\nper_frame_init_11=n = 0;\r\nper_frame_init_12=loop (flen,\r\nper_frame_init_13=  gmegabuf(sortbase+n) = n;\r\nper_frame_init_14=  n = n+1; \r\nper_frame_init_15=);\r\nper_frame_init_16=\r\nper_frame_1=dec_m = pow (0.85, 30/fps);\r\nper_frame_2=dec_s = pow (0.9, 30/fps);\r\nper_frame_3=beat = max (max (bass, mid), treb); \r\nper_frame_4=avg = avg*dec_s + beat*(1-dec_s);\r\nper_frame_5=is_beat = above(beat, 1.5*avg+2*peak) * above (time, t0+.3);\r\nper_frame_6=t0 = is_beat*time + (1-is_beat)*t0;\r\nper_frame_7=peak = is_beat * beat + (1-is_beat)*peak*dec_m;\r\nper_frame_8=index = (index + is_beat) %32;\r\nper_frame_9=index2 = (index2 + is_beat*bnot(index)) %8;\r\nper_frame_10=q27 = index;\r\nper_frame_11=q24 = is_beat;\r\nper_frame_12=\r\nper_frame_13=trig = is_beat;\r\nper_frame_14=vol1 = if(trig,.5+sqrt(peak)/4,vol1);\r\nper_frame_15=ran1 = if (trig, (rand(100)/50-1)*vol1, ran1);\r\nper_frame_16=ran2 = if (trig, (rand(100)/50-1)*vol1, ran2);\r\nper_frame_17=\r\nper_frame_18=trig = is_beat * (index%8==0);\r\nper_frame_19=ran3 = if (trig, (rand(100)/50-1)*vol1, ran3);\r\nper_frame_20=\r\nper_frame_21=ran1_ = ran1_*dec_m + (1-dec_m) * ran1;\r\nper_frame_22=ran2_ = ran2_*dec_m + (1-dec_m) * ran2;\r\nper_frame_23=ran3_ = ran3_*dec_m + (1-dec_m) * ran3;\r\nper_frame_24=dec_m = pow (0.7, 30/fps);\r\nper_frame_25=\r\nper_frame_26=q10 = ran1_;\r\nper_frame_27=q11 = ran2_;\r\nper_frame_28=q12 = ran3_;\r\nper_frame_29=\r\nper_frame_30=reg10 = 5000; reg11 = 40;\r\nper_frame_31=gmegabuf(reg10 + frame%reg11) = ran1_;\r\nper_frame_32=gmegabuf(reg10 + reg11 + frame%reg11) = ran2_;\r\nper_frame_33=gmegabuf(reg10 + 2*reg11 + frame%reg11) = ran3_;\r\nper_frame_34=\r\nper_frame_35=\r\nper_frame_36=\r\nper_frame_37=//normalize spectrum\r\nper_frame_38=n = 0; vol = 0.1; mean = 0;\r\nper_frame_39=loop (flen,\r\nper_frame_40=  value = gmegabuf(n) * (1+1/(n+.5));\r\nper_frame_41=  dec = if(megabuf(n)<=value,0.2,pow(.95,30/fps));\r\nper_frame_42=  megabuf(n) = megabuf(n)*dec + (1-dec)*value;\r\nper_frame_43=  vol = vol + pow(megabuf(n),2);\r\nper_frame_44=  n= n+1;\r\nper_frame_45=);\r\nper_frame_46=vol = sqrt(vol);\r\nper_frame_47=vol_ = dec_m*vol_ + (1-dec_m)*vol;\r\nper_frame_48=\r\nper_frame_49=// post smoothing\r\nper_frame_50=n= 0;\r\nper_frame_51=loop (flen,\r\nper_frame_52=  dec = if (megabuf(n)/vol > gmegabuf(n+1000),.5,.8);\r\nper_frame_53=  gmegabuf(n+1000) = gmegabuf(n+1000)*dec+ (1-dec)*megabuf(n)/vol_;\r\nper_frame_54=  n = n+1;\r\nper_frame_55=);\r\nper_frame_56=\r\nper_frame_57=\r\nper_frame_58=//Lookup-Tabele sortieren \r\nper_frame_59=n0 = 1000; n=0;\r\nper_frame_60=loop (flen-1,\r\nper_frame_61=  q1 = n;  q2 = n+1;\r\nper_frame_62=  q3 = gmegabuf(n0+gmegabuf(sortbase+q1));  \r\nper_frame_63=  q4 = gmegabuf(n0+gmegabuf(sortbase+q2));\r\nper_frame_64=  if (q3<=q4, exec3 (q5 = gmegabuf(sortbase+q1),\r\nper_frame_65=                     gmegabuf(sortbase+q1) = gmegabuf(sortbase+q2), \r\nper_frame_66=                     gmegabuf(sortbase+q2) = q5), 0);\r\nper_frame_67=\r\nper_frame_68=  n = n+1;\r\nper_frame_69=);\r\nper_frame_70=\r\nper_frame_71=\r\nper_frame_72=monitor = gmegabuf(sortbase+1);\r\nper_frame_73=monitor = vol1;\r\nper_frame_74=\r\nper_frame_75=\r\nper_frame_76=\r\nper_frame_77=q32 = aspecty;\r\nper_frame_78=\r\nper_frame_79=bb = bb*0.99 + bass*0.02;\r\nper_frame_80=mm = mm*0.99 + mid*0.02;\r\nper_frame_81=tt = tt*0.99 + treb*0.02;\r\nper_frame_82=\r\nper_frame_83=mx = max(max(bb,mm),tt);\r\nper_frame_84=mn = min(min(bb,mm),tt);\r\nper_frame_85=\r\nper_frame_86=h1 = (bb-mn)/(mx-mn);\r\nper_frame_87=h2 = (mm-mn)/(mx-mn);\r\nper_frame_88=h3 = (tt-mn)/(mx-mn);\r\nper_frame_89=\r\nper_frame_90=v = 0.1333/fps;\r\nper_frame_91=bm = bm + (h1-h2)*v;\r\nper_frame_92=mt = mt + (h2-h3)*v;\r\nper_frame_93=bt = bt + (h1-h3)*v;\r\nper_frame_94=\r\nper_frame_95=w = bm*2;\r\nper_frame_96=q24 = sin(w);\r\nper_frame_97=q25 = cos(w);\r\nper_frame_98=\r\nper_frame_99=q26 = bm;\r\nper_frame_100=q27 = mt;\r\nper_frame_101=q28 = bt;\r\nper_pixel_1=dd = 45/fps;\r\nper_pixel_2=zoom =  1+  .06*dd*y * gmegabuf(reg10 + (frame+y*reg11)%reg11) ;\r\nper_pixel_3=rot =      0.05 * dd* gmegabuf(reg10 + reg11   + (frame+y*reg11)%reg11); \r\nper_pixel_4=\r\nper_pixel_5=dx = 0;\r\nper_pixel_6=dy = .008*dd; ;\r\nper_pixel_7=warp = 0; \r\nwarp_1=`shader_body {\r\nwarp_2=`\r\nwarp_3=`ret = (tex2D (sampler_fc_main,uv))-1.0/255*(tex2D (sampler_noise_lq,uv*2+rand_frame).r>.8);\r\nwarp_4=`\r\nwarp_5=`}\r\ncomp_1=`float2 complex_div(float2 numerator, float2 denominator){\r\ncomp_2=`   return float2( numerator.x*denominator.x + numerator.y*denominator.y,\r\ncomp_3=`                  numerator.y*denominator.x - numerator.x*denominator.y)/\r\ncomp_4=`          (denominator.x*denominator.x + denominator.y*denominator.y);\r\ncomp_5=`}\r\ncomp_6=`\r\ncomp_7=`float2 uv_polar(float2 domain, float2 center){\r\ncomp_8=`   float2 c = domain - center;\r\ncomp_9=`   float rad_hq = length(c);\r\ncomp_10=`   float ang_hq = atan2(c.x,c.y);\r\ncomp_11=`   return float2(ang_hq*M_INV_PI_2, rad_hq);\r\ncomp_12=`}\r\ncomp_13=`\r\ncomp_14=`float2 uv_polar_logarithmic(float2 domain, float2 center, int fins, float log_factor, float2 coord){\r\ncomp_15=`   float2 polar = uv_polar(domain, center);\r\ncomp_16=`   return float2(polar.x*fins+coord.x, log_factor*log(polar.y) + coord.y);\r\ncomp_17=`}\r\ncomp_18=`\r\ncomp_19=`float2 uv_moebius_transformation(float2 domain, float2 zeroPoint, float2 infinityPoint,float zoom){\r\ncomp_20=`   return complex_div((domain - zeroPoint)*zoom, domain - infinityPoint)+0.5;\r\ncomp_21=`}\r\ncomp_22=`\r\ncomp_23=`float2 uv_bipolar(float2 domain, float2 northPole, float2 southPole, int fins, float log_factor, float2 coord){\r\ncomp_24=`   float2 help_uv = uv_moebius_transformation(domain, northPole, southPole, 1);\r\ncomp_25=`   return uv_polar_logarithmic(help_uv,0.5,fins,log_factor,coord);\r\ncomp_26=`}\r\ncomp_27=`\r\ncomp_28=`\r\ncomp_29=`float2 uv_rotate( float2 domain, float2 center, float sinw, float cosw, float scale){\r\ncomp_30=`   float2 uv_r = (domain-center);\r\ncomp_31=`   return center + float2( cosw*uv_r.x - sinw*uv_r.y, sinw*uv_r.x + cosw*uv_r.y)*scale;\r\ncomp_32=`}\r\ncomp_33=`\r\ncomp_34=`\r\ncomp_35=`shader_body\r\ncomp_36=`{\r\ncomp_37=`float2 uvo = uv;\r\ncomp_38=`\r\ncomp_39=`float2 rotate_uv = 0.5-uv_rotate(0 + (uv-0.5)*aspect.xy, 0, q24, q25, 2);\r\ncomp_40=`float2 bipolar_uv = uv_bipolar(rotate_uv,float2(0,0.5),float2(1,0.5), 2, 0.3, float2(q27,q28));\r\ncomp_41=`uv = 0.5 + (0.5 - abs( frac( bipolar_uv * 0.5 ) * 2.0 - 1.));\r\ncomp_42=`\r\ncomp_43=`rotate_uv = 0.5-uv_rotate(0 + (uv-0.5), 0, q24, q25, 2);\r\ncomp_44=`bipolar_uv = uv_bipolar(rotate_uv,float2(0,0.5),float2(1,0.5), 2, 0.3, float2(q27,q28));\r\ncomp_45=`uv = 0.5 + (0.5 - abs( frac( bipolar_uv * 0.5 ) * 2.0 - 1.));\r\ncomp_46=`\r\ncomp_47=`uv = (uv-.5)*.96+.5;\r\ncomp_48=`ret = GetPixel(uv)*4 + GetBlur2(uv);\r\ncomp_49=`}\r\ncomp_50=`\r\n"
}